(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"./assets/images/logo.svg":function(e,t,n){e.exports=n.p+"assets/icons/2547c784d0dd2d65bc55bd6d7892e4dc-logo.svg"},"./components/mobile/App.jsx":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-router/esm/react-router.js"),c=n("./node_modules/react-router-dom/esm/react-router-dom.js"),l=o.a.createContext(null),s=n("./node_modules/mdbreact/dist/mdbreact.esm.js"),i=n("./node_modules/@fortawesome/react-fontawesome/index.es.js"),u=n("./assets/images/logo.svg"),m=n.n(u),p=function(){return o.a.createElement("header",{className:"mobile-header"},o.a.createElement("div",{className:"mobile-header--wrapper"},o.a.createElement("div",{className:"mobile-header--title"},o.a.createElement("h1",null,o.a.createElement("img",{src:m.a,alt:"Grocery Concierge Logo"}))),o.a.createElement("a",{className:"mobile-header--account-link",href:"#"},"My Account")))},d=n("./node_modules/google-maps-react/dist/index.js"),f=Object(a.j)((function(e){Object(a.i)();return o.a.createElement(s.f,{className:"grocery-stores"},e.stores.map((function(t,n){var r=t.name,a=t.id,l=t.vicinity,i="https://www.google.com/maps/search/?api=1&query_place_id=".concat(a,"&query=").concat(l);return o.a.createElement(s.g,{key:n,className:"grocery-stores--store-wrapper"},o.a.createElement("div",{className:"grocery-stores--store"},o.a.createElement("div",{className:"grocery-stores--store-info"},o.a.createElement("span",{className:"grocery-stores--store-name"},r),o.a.createElement("span",{className:"grocery-stores--store-address"},l),o.a.createElement("span",{className:"grocery-stores--google-map"},o.a.createElement("a",{href:i,target:"_blank"},"Open Google Maps"))),o.a.createElement(c.b,{to:{pathname:"/mobile/select-products"},onClick:function(){return e.onStoreSelection(t)}},o.a.createElement("button",{className:"grocery-stores--store-selection-button button button-lighter-green"},"Select this store"))))})))})),y=n("./node_modules/react-geocode/lib/index.js"),g=n.n(y),b=n("./node_modules/sweetalert2-react/dist/sweetalert-react.min.js"),h=n.n(b);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}g.a.setApiKey("AIzaSyDboNRlvYB28UXVObFYGaP6xw0p3HJiowA");var w=function(e){var t=v(Object(r.useState)(!1),2),n=t[0],a=t[1],c=v(Object(r.useState)(""),2),l=c[0],s=c[1],u=function(){l?g.a.fromAddress(l).then((function(t){var n=t.results[0].geometry.location,r=n.lat,o=n.lng;s(""),e.updateLocated(!0,r,o),e.setPostalCode(l)}),(function(e){console.error(e),a(!0)})):a(!0)};return o.a.createElement("div",{className:"form-group geocoder-input-container"},o.a.createElement("p",{className:"geocoder-postal-code-label"},"Enter Postal Code"),o.a.createElement("div",{className:"form-group geocoder-postal-code-input-container"},o.a.createElement("label",{htmlFor:"geocoder-input",className:"sr-only"},"Enter postal code to find stores nearby"),o.a.createElement("input",{type:"text",className:"form-control form-control-lg geocoder-input",id:"geocoder-input",value:l,onKeyPress:function(e){return function(e){"Enter"===e.key&&u()}(e)},onChange:function(e){return s(e.target.value)}})),o.a.createElement("button",{className:"button button-lighter-green-fill geocoder-submit-button",onClick:u},o.a.createElement("span",{className:"sr-only"},"Find stores by postal code"),o.a.createElement(i.a,{icon:"chevron-right"})),o.a.createElement(h.a,{type:"error",confirmButtonColor:"#a1bf63",show:n,title:"Error",text:"Please enter a valid postal code",onConfirm:function(){return a(!1)}}))},O=n("./node_modules/react-dom/index.js"),j=n.n(O);function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=function(e){var t=Object(r.useRef)(null),n=document.createElement("div"),a=e.marker,c=e.visible,l=e.selectedPlace,s=e.children;return Object(r.useEffect)((function(){j.a.render(o.a.Children.only(s),n),t.current.infowindow.setContent(n)}),[a,c,l]),o.a.createElement(d.InfoWindow,S({ref:t},e))};function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I={showingInfoWindow:!1,activeMarker:{},selectedPlace:{}},T=function(e,t){switch(t.type){case"onMarkerClick":return A({},e,{showingInfoWindow:!0,selectedPlace:t.payload.place,activeMarker:t.payload.marker});case"onMapClick":return A({},e,{showingInfoWindow:!1,activeMarker:null});default:throw new Error}},_=null,M=null,D=Object(d.GoogleApiWrapper)({apiKey:"AIzaSyDboNRlvYB28UXVObFYGaP6xw0p3HJiowA"})((function(e){var t=k(Object(r.useReducer)(T,I),2),n=t[0],c=t[1],l=Object(a.g)(),u=Object(a.h)();Object(r.useEffect)((function(){e.updateNavigatedToStepOne(!0)}),[u]);var m=function(t,n){var r=!1;if(t.center.lat===_&&t.center.lng===M||(r=!0,_||M||(_=t.center.lat,M=t.center.lng)),r||e.navigatedToStepOne){var o=t.google;new o.maps.places.PlacesService(n).nearbySearch({location:t.center,radius:1e3,type:["grocery_or_supermarket"]},(function(t,r){if("OK"===r){e.setPlaces(t);for(var a,c=new o.maps.LatLngBounds,l=0;a=t[l];l++)c.extend(a.geometry.location);n.fitBounds(c)}})),_=t.center.lat,M=t.center.lng,r=!1,e.updateNavigatedToStepOne(!1)}},p=function(e,t,n){c({type:"onMarkerClick",payload:{place:e,marker:t}})},y={lat:e.lat,lng:e.lng},g={center:y,google:e.google,onReady:m,onClick:function(){showingInfoWindow&&c({type:"onMapClick"})},onCenterChanged:m,zoom:14,scrollwheel:!0};return o.a.createElement(r.Fragment,null,!e.located&&o.a.createElement(r.Fragment,null,o.a.createElement(s.j,{className:"store-geocoder"},o.a.createElement(s.c,{sm:"12",md:"6",className:"offset-md-3"},o.a.createElement(w,{updateLocated:e.updateLocated,setPostalCode:e.setPostalCode}))),o.a.createElement(s.j,{className:"store-geolocation"},o.a.createElement(s.c,{sm:"12",md:"6",className:"offset-md-3"},o.a.createElement("button",{className:"button button-orange-red geolocation-button",onClick:function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){var n=t.coords.latitude,r=t.coords.longitude;e.updateLocated(!0,n,r)}))}},o.a.createElement(i.a,{icon:"map-marker-alt"})," Locate Me")))),e.located&&o.a.createElement(s.j,{className:"store-search-results"},o.a.createElement(s.c,{md:"12",lg:"5",className:"store-search-results--store-list-container"},o.a.createElement(f,{stores:e.places,onStoreSelection:e.onStoreSelection})),o.a.createElement(s.c,{md:"12",lg:"7",className:"store-search-results--map-container"},o.a.createElement(d.Map,P({className:"store-selection-google-map--map",style:{width:700,height:500,position:"relative"}},g),o.a.createElement(d.Circle,{radius:1200,center:y,strokeColor:"transparent",strokeOpacity:0,strokeWeight:5,fillColor:"#FF0000",fillOpacity:.2}),e.places.length>0&&e.places.map((function(e,t){var n={url:e.icon,size:new google.maps.Size(71,71),origin:new google.maps.Point(0,0),anchor:new google.maps.Point(17,34),scaledSize:new google.maps.Size(25,25)};return o.a.createElement(d.Marker,{key:e.id,name:e.name,icon:n,position:e.geometry.location,onClick:p})})),o.a.createElement(N,{marker:n.activeMarker,visible:n.showingInfoWindow,selectedPlace:n.selectedPlace},o.a.createElement("div",null,o.a.createElement("h5",null,n.selectedPlace.name),o.a.createElement("button",{className:"button button-lighter-green",onClick:function(){e.onStoreSelection(n.selectedPlace),l.push("/mobile/select-products")}},"Find products")))))))})),B=n("./node_modules/socket.io-client/lib/index.js"),G=n.n(B),R=n("./node_modules/axios/index.js"),F=n.n(R);function Y(e,t,n,r,o,a,c){try{var l=e[a](c),s=l.value}catch(e){return void n(e)}l.done?t(s):Promise.resolve(s).then(r,o)}function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return U(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function U(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=G()("/");console.log("Socket",J);var K=new(window.SpeechRecognition||window.webkitSpeechRecognition);K.continous=!1,K.interimResults=!1,K.maxAlternatives=1,K.lang="en-US";var H={products:[],listening:!1,outputYou:"",outputBot:"",infoDisplay:""},V=function(e,t){switch(console.log("Type",t.type,t.payload),t.type){case"products":return z({},e,{products:t.payload});case"socketResponse":return z({},e,{listening:!1,outputBot:t.payload.reply,infoDisplay:t.payload.location});case"toggleListen":return z({},e,{listening:t.payload});case"stopListening":return z({},e,{listening:!1});case"reset":return z({},e,{outputBot:"",outputYou:"",infoDisplay:""});case"outputYou":return z({},e,{outputYou:t.payload});case"outputBotError":return z({},e,{outputBot:t.payload});default:throw new Error}},X=Object(a.j)((function(e){var t=W(Object(r.useReducer)(V,H),2),n=t[0],u=t[1],m=Object(r.useContext)(l),p=m.concierge,d=m.customer,f=Object(a.g)(),y=(Object(a.i)(),!1),g=e.selectedPlace,b=g.name,h=g.id,v=g.vicinity,E="https://www.google.com/maps/search/?api=1&query_place_id=".concat(h,"&query=").concat(v);Object(r.useEffect)((function(){var e=F.a.CancelToken.source();return function(){var t,n=(t=regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F()("/mapping",{cancelToken:e.token});case 3:n=t.sent,u({type:"products",payload:n.data}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),F.a.isCancel(t.t0)?console.log("Call for essential products was cancelled"):setShow(!0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function c(e){Y(a,r,o,c,l,"next",e)}function l(e){Y(a,r,o,c,l,"throw",e)}c(void 0)}))});return function(){return n.apply(this,arguments)}}()(),function(){e.cancel()}}),["/mapping"]),Object(r.useEffect)((function(){O()}),[n.listening]),Object(r.useEffect)((function(){return w(),function(){J.off()}}),[]);var w=function(){J.on("response",(function(t){(console.log("Socket response",t),j(t.reply),""==t.reply&&(t.reply="(No answer...)"),"where"===t.type)&&(y=!0,e.groceryList.map((function(e){return e.name})).includes(t.name)||e.addItemToGroceryList({name:t.name,location:t.info}),e.setProductLocation(t.reply));u({type:"socketResponse",payload:{reply:t.reply,location:t.info}})}))},O=function(){console.log("Listening?",n.listening),n.listening?K.start():(K.stop(),K.onend=function(){console.log("Stopped listening per click")}),K.onstart=function(){console.log("Listening!")},K.onspeechstart=function(){console.log("Speech has been detected."),u({type:"reset"})},K.onresult=function(e){console.log("Result has been detected.",e);var t=e.results.length-1,n=e.results[t][0].transcript;console.log("Text",n),console.log("Confidence: "+e.results[0][0].confidence),J.emit("customer query",n),u({type:"outputYou",payload:n})},K.onspeechend=function(){console.log("Speech has ended."),u({type:"stopListening"})},K.onerror=function(e){console.log("Recognition error",e.error),u({type:"outputBotError",payload:"Sorry, I couldn't understand you!"}),setTimeout((function(){u({type:"reset"})}),2e3)}},j=function(e){console.log("Speech synth",e);var t=window.speechSynthesis,r=new SpeechSynthesisUtterance;r.text=e,t.speak(r),r.onend=function(){console.log("Finished talking, found?",n),y?f.push("/mobile/search-results"):u({type:"reset"})}};return o.a.createElement("section",{className:"product-search-section"},o.a.createElement(s.j,{className:"product-search"},o.a.createElement(s.c,{md:"4",className:"offset-md-4"},o.a.createElement(s.j,{className:"back-to-map-button-container justify-content-center"},o.a.createElement(s.c,{sm:"12"},o.a.createElement("div",{className:"store-selection-back-navigation"},o.a.createElement(i.a,{className:"store-selection-back-icon",icon:"chevron-left"}),o.a.createElement(c.b,{className:"store-selection-back-link",to:{pathname:"/mobile/select-store"}},"Select another store")),o.a.createElement("p",{className:"product-search-subtitle voice-search"},o.a.createElement("span",{className:"font-weight-bold"},"Your Selected Store:"),o.a.createElement("span",{className:"store-name"},b),o.a.createElement("span",{className:"store-address"},v),o.a.createElement("span",{className:"google-map"},o.a.createElement("a",{href:E,target:"_blank"},"Open Google Maps"))),o.a.createElement("hr",{className:"hr-red"}))),o.a.createElement(s.j,{className:"microphone-button-container justify-content-center"},o.a.createElement(s.c,{sm:"12"},o.a.createElement("div",{className:"conversation-container conversation-container--concierge"},o.a.createElement("img",{className:"grocery-concierge-icon",src:p,alt:"Grocery Concierge icon"}),o.a.createElement("span",null,o.a.createElement("strong",null,"What are you looking for?"))),o.a.createElement("div",{className:"conversation-container conversation-container--customer"},o.a.createElement("span",null,o.a.createElement("strong",null,n.outputYou)),o.a.createElement("img",{className:"grocery-concierge-icon",src:d,alt:"Grocery Concierge icon"})),n.outputBot&&o.a.createElement("div",{className:"conversation-container conversation-container--concierge"},o.a.createElement("img",{className:"grocery-concierge-icon",src:p,alt:"Grocery Concierge icon"}),o.a.createElement("span",null,o.a.createElement("strong",null,n.outputBot))),!n.outputBot&&o.a.createElement("div",{className:"text-center"},o.a.createElement("p",{className:"microphone-answer-tip"},n.listening?"I'm listening!":"Tap to answer"),o.a.createElement("button",{className:"microphone",onClick:function(){var e=!n.listening;u({type:"toggleListen",payload:e})}},o.a.createElement(i.a,{icon:"microphone",className:"icon"}))))))))}));var Q=n("./assets/images/grocery_store_aisle_small.png"),Z=n.n(Q);function ee(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return te(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return te(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function te(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ne=Object(a.j)((function(e){var t=ee(Object(r.useState)(!1),2),n=t[0],u=t[1],m=(Object(a.i)(),Object(r.useContext)(l).concierge),p=e.productLocation;e.groceryList,e.removeItemFromShoppingList,e.clearShoppingList;return o.a.createElement("section",{className:"search-results-section"},o.a.createElement("div",{className:"conversation-container conversation-container--concierge search-results-location"},o.a.createElement("img",{className:"grocery-concierge-icon",src:m,alt:"Grocery Concierge icon"}),o.a.createElement("span",null,o.a.createElement("strong",null,p))),o.a.createElement(s.j,{className:"product-search-results"},o.a.createElement(s.c,{md:"12",lg:"6",className:"aisle-image-container offset-lg-3"},o.a.createElement("img",{className:"image-grocery-aisle img-fluid",src:Z.a}))),o.a.createElement(s.j,null,o.a.createElement(s.c,{className:"product-search-results--action-buttons-container"},o.a.createElement("p",{className:"font-weight-bold w-100"},"Would you like to:"),o.a.createElement("div",{className:"product-search-results--action-buttons action-buttons"},o.a.createElement("button",{className:"search-results-button button button-orange-red","aria-haspopup":"true","aria-expanded":n,onClick:function(){return u(!0)}},o.a.createElement(i.a,{className:"fa-icon",icon:"heart"})," Save this Map"),o.a.createElement(h.a,{type:"success",confirmButtonColor:"#a1bf63",show:n,title:"Success",text:"Your map has been saved!",onConfirm:function(){return u(!1)}}),o.a.createElement(c.b,{to:{pathname:"/mobile/select-products"}},o.a.createElement("button",{className:"search-results-button button button-orange-red"},o.a.createElement(i.a,{className:"fa-icon",icon:"question"})," Ask another question")),o.a.createElement(c.b,{to:{pathname:"/mobile/select-store"}},o.a.createElement("button",{className:"search-results-button button button-orange-red"},o.a.createElement(i.a,{className:"fa-icon",icon:"sign-out-alt"})," Exit the store"))))))})),re=n("./assets/images/concierge.svg"),oe=n.n(re),ae=n("./assets/images/customer.svg"),ce=n.n(ae);function le(e){return function(e){if(Array.isArray(e))return ue(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ie(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,a=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw a}}return n}(e,t)||ie(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){if(e){if("string"==typeof e)return ue(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ue(e,t):void 0}}function ue(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){de(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe={selectedPlace:{},places:[],stepOne:!0,stepTwo:!1,stepThree:!1,navigatedToStepOne:!1,postalCode:"you",currentLocation:"",groceryList:[],productLocation:"",located:!1,lat:43.6435,lng:-79.39352},ye=function(e,t){switch(t.type){case"products":return pe({},e,{products:t.payload});case"storeSelection":return pe({},e,{stepOne:!1,stepTwo:!0,stepThree:!1,selectedPlace:t.payload});case"setProductLocation":return pe({},e,{productLocation:t.payload});case"updateLocated":return pe({},e,{located:t.payload.located,lat:t.payload.lat,lng:t.payload.lng});case"update":return pe({},e,{located:t.payload});case"updateNavigatedToStepOne":return pe({},e,{navigatedToStepOne:t.payload});case"setPlaces":return pe({},e,{places:t.payload});case"setPostalCode":return pe({},e,{postalCode:t.payload});case"updateGroceryList":return pe({},e,{groceryList:t.payload});default:throw new Error}};t.default=function(){var e=se(Object(r.useReducer)(ye,fe),2),t=e[0],n=e[1],u=Object(a.i)();Object(r.useEffect)((function(){}),[]);var m="you"===t.postalCode?"you":o.a.createElement("strong",null,t.postalCode);return o.a.createElement(l.Provider,{value:{concierge:oe.a,customer:ce.a}},o.a.createElement(s.d,{className:"mobile-app-container"},o.a.createElement(p,null),o.a.createElement("main",{className:"mobile-main-content"},o.a.createElement(a.b,{path:"".concat(u.url,"/select-store")},o.a.createElement("section",{className:"store-selection store-selection-title-container"},!t.located&&o.a.createElement(r.Fragment,null,o.a.createElement("h2",{className:"store-selection-title store-selection-title-welcome"},"Welcome! "),o.a.createElement("p",null,"Start searching for your nearest grocery store here ")),t.located&&o.a.createElement(r.Fragment,null,o.a.createElement("div",{className:"store-selection-back-navigation"},o.a.createElement(i.a,{className:"store-selection-back-icon",icon:"chevron-left"}),o.a.createElement(c.b,{className:"store-selection-back-link",to:{pathname:"/mobile/select-store"},onClick:function(){n({type:"update",payload:!1})}},"Back")),o.a.createElement("h2",{className:"store-selection-title store-selection-title-nearby"},"Stores nearby ",m))),o.a.createElement("section",{className:"store-selection store-selection-google-map"},o.a.createElement(D,{onStoreSelection:function(e){n({type:"storeSelection",payload:e})},located:t.located,lat:t.lat,lng:t.lng,updateLocated:function(e,t,r){n({type:"updateLocated",payload:{located:e,lat:t,lng:r}})},places:t.places,setPlaces:function(e){n({type:"setPlaces",payload:e})},setPostalCode:function(e){n({type:"setPostalCode",payload:e})},navigatedToStepOne:t.navigatedToStepOne,updateNavigatedToStepOne:function(e){n({type:"updateNavigatedToStepOne",payload:e})}}))),o.a.createElement(a.b,{path:"".concat(u.url,"/select-products")},0===Object.keys(t.selectedPlace).length?o.a.createElement(a.a,{to:"".concat(u.url,"/select-store")}):o.a.createElement(X,{setProductLocation:function(e){n({type:"setProductLocation",payload:e})},selectedPlace:t.selectedPlace,addItemToGroceryList:function(e){var r=[].concat(le(t.groceryList),[e]);n({type:"updateGroceryList",payload:r})},groceryList:t.groceryList,lat:t.lat,lng:t.lng})),o.a.createElement(a.b,{path:"".concat(u.url,"/search-results")},0===Object.keys(t.selectedPlace).length?o.a.createElement(a.a,{to:"".concat(u.url,"/select-store")}):o.a.createElement(ne,{groceryList:t.groceryList,removeItemFromShoppingList:function(e){var r=t.groceryList.filter((function(t){return t.name!==e}));n({type:"updateGroceryList",payload:r})},clearShoppingList:function(){n({type:"updateGroceryList",payload:[]})},selectedPlace:t.selectedPlace,productLocation:t.productLocation})),o.a.createElement(a.b,{exact:!0,path:"/mobile"},o.a.createElement(a.a,{to:"".concat(u.url,"/select-store")})))))}},1:function(e,t){}}]);